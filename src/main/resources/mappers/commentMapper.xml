<?xml version="1.0" encoding="UTF-8"?>

 <!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.marondal.choongmotour.lodging.comment.dao.CommentDAO">
  
  <!-- 댓글 달기 -->
  
  <insert id ="insertComment" parameterType="map">
  	INSERT INTO
  			`comment`
  			(
  				`userId`
  				, `roomId`
  				, `content`
  				, `imagePath`
  				, `starpoint`
  				, `createdAt`
  				, `updatedAt`
  			)
  			VALUES
  			(
  				#{userId}
  				, #{roomId}
  				, #{content}
  				, #{imagePath}
  				, #{starpoint}
  				, now()
  				, now()
  			
  			);
  			
  
  </insert>
  
  <!-- 댓글 목록 -->
  <select id = "selectCommentList" resultType="com.marondal.choongmotour.lodging.model.Comment" parameterType="map">
  	SELECT
  		 `id`
  		, `userId`
  		, `roomId`
  		, `content`
  		, `imagePath`
  		, `starpoint`
  	FROM
  		`comment`
  	WHERE
  		`roomId` = #{roomId}
  	ORDER BY
  		`id` DESC; <!-- 최근 업로드한 순서대로 -->
  </select>
  
  
  
  <!-- 댓글 삭제 -->
  
  </mapper>