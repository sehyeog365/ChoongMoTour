<?xml version="1.0" encoding="UTF-8"?>

 <!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.marondal.choongmotour.user.dao.UserDAO">
  
  <insert id ="insertUser" parameterType="map">
	  INSERT INTO 
	  		`user`
		  	(
		  		`loginId`
		  		,`password` 
		  		, `name`
		    	, `email` 
		    	, `nickname` <!--Field 'phoneNumber' doesn't have a default value 라는 오류 디비엔 폰넘버가 있지만 회원가입 때는 폰넘버가 필요없다. 폰넘버를 안넣고 싶은경우가 있을것. 디비및 설계문서를 null로 바꿀것.  -->
		    	, `createdAt` 
		    	, `updatedAt` 
		  	)
	  VALUES
		  (
		  	#{loginId}
		  	, #{password}
		  	, #{name}
		  	, #{email}
		  	, #{nickname}
		  	, now()
		  	, now()
		  	
		  )
  
  
  
  </insert>
  
  <select id = "selectCountloginId" resultType="int" parameterType="String">
  	SELECT 
  		count(1)
  	FROM
  		`user`
  	WHERE
  		`loginId` = #{loginId};
  	
  </select>
  
  <select id="selectUser" resultType="com.marondal.choongmotour.user.model.User" parameterType="map">
  	
  	SELECT
  		`loginId`
		 ,`password` 
		 , `name`
		 , `email` 
		 , `nickname`
		 , `createdAt` 
		 , `updatedAt` 
  	FROM
  		`user`
  	WHERE
  		`loginId` = #{loginId}
  		AND `password` = #{password};
  </select>
  
  
  </mapper>